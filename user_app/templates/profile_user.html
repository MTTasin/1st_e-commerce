{% extends "layout_user.html" %}
{% block content %}

{% if messages %}
{% for message in messages %}
<p class="alert alert-success">{{ message }}</p>
{% endfor %}
{% endif %}

<div class="content-section">
  <center>
    <div class="media">
      <img class="rounded-circle account-img" src="{{ user.profile.image.url }}" />
      <div class="media-body">
        <h2 class="account-heading">{{ user.username }}</h2>
        <p class="text-secondary">{{ user.email }}</p>
      </div>
    </div>
  </center>
  <div>
    <center><a href="{% url 'order_list' %}" class="btn btn-primary" style="width: 40%; padding: 8px; margin: 5px;">My
        Orders</a></center>
  </div>

  {% if user.is_superuser %}
  <div>
    <center><a href="{% url 'dashboard_url' %}" class="btn btn-primary"
        style="width: 40%; padding: 8px; margin: 5px;">Dashboard</a></center>
  </div>
  {% endif %}
  <div>
    <center>
      <a href="{% url 'cart_detail' %}"><button class="btn btn-primary"
          style="width: 40%; padding: 8px; color: white; margin-top: 5px;">Check your Cart</button></a>
    </center>
  </div>
  <div>
    <center>
      <a href="{% url 'previous_order' %}"><button class="btn btn-primary"
          style="width: 40%; padding: 8px; color: white; margin-top: 5px;">My previous orders</button></a>
    </center>
  </div>
  <div>
    <center><a href="/logout" class="btn btn-danger" style="width: 40%; padding: 8px; margin-top: 5px;">Logout</a>
    </center>
  </div>
  <br>
  <hr>
  <br>




  <center>
    <button class="btn btn-primary" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight"
    aria-controls="offcanvasRight" style="width: 30%; margin-top: 6px; padding: 9px;">Update your Profile</button>
  </center>
  <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
    <div class="offcanvas-header">
      <h5 class="offcanvas-title text" id="offcanvasRightLabel">Update your Profile</h5>
      <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">

      <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        <fieldset class="form-group">
          <legend class="border-bottom mb-4">Profile Info</legend>
          <div class="form-floating mb-3">
            <input type="text" class="form-control" id="id_username" name="username" placeholder="admin">
            <label for="id_username">Username</label>
          </div>
          <div class="form-floating mb-3">
            <input type="text" class="form-control" id="id_email" name="email" placeholder="name@example.com">
            <label for="id_email">Email address</label>
          </div>
          <!-- User form -->
          <div class="form-floating mb-3">
            <input type="file" class="form-control" id="id_image" name="image">
            <label for="id_image">Profile image</label>
          </div>
          <!-- Profile form -->
        </fieldset>
        <div class="form-group">
          <center>
            <button class="btn btn-info" type="submit">Update</button>
          </center>
        </div>
      </form>

    </div>
  </div>

</div>



{% endblock content %}